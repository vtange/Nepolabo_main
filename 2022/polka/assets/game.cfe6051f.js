var he=Object.defineProperty;var me=(w,h,n)=>h in w?he(w,h,{enumerable:!0,configurable:!0,writable:!0,value:n}):w[h]=n;var Z=(w,h,n)=>(me(w,typeof h!="symbol"?h+"":h,n),n);import{g as Q,r as $,p as ve,a as F,m as ye,j as W,R as ie,u as ge,F as we}from"./index.5ef582d5.js";import{N as be}from"./Nav.423f1e71.js";var te={},ee={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */var ae;function Ae(){return ae||(ae=1,function(w){(function(){var h=function(){this.init()};h.prototype={init:function(){var e=this||n;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator=typeof window<"u"&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||n;if(e=parseFloat(e),t.ctx||T(),typeof e<"u"&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,n.ctx.currentTime);for(var r=0;r<t._howls.length;r++)if(!t._howls[r]._webAudio)for(var u=t._howls[r]._getSoundIds(),s=0;s<u.length;s++){var l=t._howls[r]._soundById(u[s]);l&&l._node&&(l._node.volume=l._volume*e)}return t}return t._volume},mute:function(e){var t=this||n;t.ctx||T(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,n.ctx.currentTime);for(var r=0;r<t._howls.length;r++)if(!t._howls[r]._webAudio)for(var u=t._howls[r]._getSoundIds(),s=0;s<u.length;s++){var l=t._howls[r]._soundById(u[s]);l&&l._node&&(l._node.muted=e?!0:l._muted)}return t},stop:function(){for(var e=this||n,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||n,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&typeof e.ctx.close<"u"&&(e.ctx.close(),e.ctx=null,T()),e},codecs:function(e){return(this||n)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||n;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if(typeof Audio<"u")try{var t=new Audio;typeof t.oncanplaythrough>"u"&&(e._canPlayEvent="canplay")}catch{e.noAudio=!0}else e.noAudio=!0;try{var t=new Audio;t.muted&&(e.noAudio=!0)}catch{}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||n,t=null;try{t=typeof Audio<"u"?new Audio:null}catch{return e}if(!t||typeof t.canPlayType!="function")return e;var r=t.canPlayType("audio/mpeg;").replace(/^no$/,""),u=e._navigator?e._navigator.userAgent:"",s=u.match(/OPR\/([0-6].)/g),l=s&&parseInt(s[0].split("/")[1],10)<33,a=u.indexOf("Safari")!==-1&&u.indexOf("Chrome")===-1,p=u.match(/Version\/(.*?) /),x=a&&p&&parseInt(p[1],10)<15;return e._codecs={mp3:!!(!l&&(r||t.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!r,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!x&&t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!x&&t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||n;if(!(e._audioUnlocked||!e.ctx)){e._audioUnlocked=!1,e.autoUnlock=!1,!e._mobileUnloaded&&e.ctx.sampleRate!==44100&&(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(r){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var u=new Audio;u._unlocked=!0,e._releaseHtml5Audio(u)}catch{e.noAudio=!0;break}for(var s=0;s<e._howls.length;s++)if(!e._howls[s]._webAudio)for(var l=e._howls[s]._getSoundIds(),a=0;a<l.length;a++){var p=e._howls[s]._soundById(l[a]);p&&p._node&&!p._node._unlocked&&(p._node._unlocked=!0,p._node.load())}e._autoResume();var x=e.ctx.createBufferSource();x.buffer=e._scratchBuffer,x.connect(e.ctx.destination),typeof x.start>"u"?x.noteOn(0):x.start(0),typeof e.ctx.resume=="function"&&e.ctx.resume(),x.onended=function(){x.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var y=0;y<e._howls.length;y++)e._howls[y]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||n;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=new Audio().play();return t&&typeof Promise<"u"&&(t instanceof Promise||typeof t.then=="function")&&t.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var t=this||n;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(!(!e.autoSuspend||!e.ctx||typeof e.ctx.suspend>"u"||!n.usingWebAudio)){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio){for(var r=0;r<e._howls[t]._sounds.length;r++)if(!e._howls[t]._sounds[r]._paused)return e}return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(!!e.autoSuspend){e._suspendTimer=null,e.state="suspending";var u=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(u,u)}},3e4),e}},_autoResume:function(){var e=this;if(!(!e.ctx||typeof e.ctx.resume>"u"||!n.usingWebAudio))return e.state==="running"&&e.ctx.state!=="interrupted"&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):e.state==="suspended"||e.state==="running"&&e.ctx.state==="interrupted"?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):e.state==="suspending"&&(e._resumeAfterSuspend=!0),e}};var n=new h,o=function(e){var t=this;if(!e.src||e.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}t.init(e)};o.prototype={init:function(e){var t=this;return n.ctx||T(),t._autoplay=e.autoplay||!1,t._format=typeof e.format!="string"?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload=typeof e.preload=="boolean"||e.preload==="metadata"?e.preload:!0,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src=typeof e.src!="string"?e.src:[e.src],t._volume=e.volume!==void 0?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:e.xhr&&e.xhr.withCredentials?e.xhr.withCredentials:!1},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=n.usingWebAudio&&!t._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&t._preload!=="none"&&t.load(),t},load:function(){var e=this,t=null;if(n.noAudio){e._emit("loaderror",null,"No audio support.");return}typeof e._src=="string"&&(e._src=[e._src]);for(var r=0;r<e._src.length;r++){var u,s;if(e._format&&e._format[r])u=e._format[r];else{if(s=e._src[r],typeof s!="string"){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}u=/^data:audio\/([^;,]+);/i.exec(s),u||(u=/\.([^.]+)$/.exec(s.split("?",1)[0])),u&&(u=u[1].toLowerCase())}if(u||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),u&&n.codecs(u)){t=e._src[r];break}}if(!t){e._emit("loaderror",null,"No codec support for selected audio sources.");return}return e._src=t,e._state="loading",window.location.protocol==="https:"&&t.slice(0,5)==="http:"&&(e._html5=!0,e._webAudio=!1),new i(e),e._webAudio&&v(e),e},play:function(e,t){var r=this,u=null;if(typeof e=="number")u=e,e=null;else{if(typeof e=="string"&&r._state==="loaded"&&!r._sprite[e])return null;if(typeof e>"u"&&(e="__default",!r._playLock)){for(var s=0,l=0;l<r._sounds.length;l++)r._sounds[l]._paused&&!r._sounds[l]._ended&&(s++,u=r._sounds[l]._id);s===1?e=null:u=null}}var a=u?r._soundById(u):r._inactiveSound();if(!a)return null;if(u&&!e&&(e=a._sprite||"__default"),r._state!=="loaded"){a._sprite=e,a._ended=!1;var p=a._id;return r._queue.push({event:"play",action:function(){r.play(p)}}),p}if(u&&!a._paused)return t||r._loadQueue("play"),a._id;r._webAudio&&n._autoResume();var x=Math.max(0,a._seek>0?a._seek:r._sprite[e][0]/1e3),y=Math.max(0,(r._sprite[e][0]+r._sprite[e][1])/1e3-x),E=y*1e3/Math.abs(a._rate),D=r._sprite[e][0]/1e3,A=(r._sprite[e][0]+r._sprite[e][1])/1e3;a._sprite=e,a._ended=!1;var I=function(){a._paused=!1,a._seek=x,a._start=D,a._stop=A,a._loop=!!(a._loop||r._sprite[e][2])};if(x>=A){r._ended(a);return}var O=a._node;if(r._webAudio){var g=function(){r._playLock=!1,I(),r._refreshBuffer(a);var L=a._muted||r._muted?0:a._volume;O.gain.setValueAtTime(L,n.ctx.currentTime),a._playStart=n.ctx.currentTime,typeof O.bufferSource.start>"u"?a._loop?O.bufferSource.noteGrainOn(0,x,86400):O.bufferSource.noteGrainOn(0,x,y):a._loop?O.bufferSource.start(0,x,86400):O.bufferSource.start(0,x,y),E!==1/0&&(r._endTimers[a._id]=setTimeout(r._ended.bind(r,a),E)),t||setTimeout(function(){r._emit("play",a._id),r._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?g():(r._playLock=!0,r.once("resume",g),r._clearTimer(a._id))}else{var M=function(){O.currentTime=x,O.muted=a._muted||r._muted||n._muted||O.muted,O.volume=a._volume*n.volume(),O.playbackRate=a._rate;try{var L=O.play();if(L&&typeof Promise<"u"&&(L instanceof Promise||typeof L.then=="function")?(r._playLock=!0,I(),L.then(function(){r._playLock=!1,O._unlocked=!0,t?r._loadQueue():r._emit("play",a._id)}).catch(function(){r._playLock=!1,r._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),a._ended=!0,a._paused=!0})):t||(r._playLock=!1,I(),r._emit("play",a._id)),O.playbackRate=a._rate,O.paused){r._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}e!=="__default"||a._loop?r._endTimers[a._id]=setTimeout(r._ended.bind(r,a),E):(r._endTimers[a._id]=function(){r._ended(a),O.removeEventListener("ended",r._endTimers[a._id],!1)},O.addEventListener("ended",r._endTimers[a._id],!1))}catch(R){r._emit("playerror",a._id,R)}};O.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(O.src=r._src,O.load());var G=window&&window.ejecta||!O.readyState&&n._navigator.isCocoonJS;if(O.readyState>=3||G)M();else{r._playLock=!0,r._state="loading";var N=function(){r._state="loaded",M(),O.removeEventListener(n._canPlayEvent,N,!1)};O.addEventListener(n._canPlayEvent,N,!1),r._clearTimer(a._id)}}return a._id},pause:function(e){var t=this;if(t._state!=="loaded"||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var r=t._getSoundIds(e),u=0;u<r.length;u++){t._clearTimer(r[u]);var s=t._soundById(r[u]);if(s&&!s._paused&&(s._seek=t.seek(r[u]),s._rateSeek=0,s._paused=!0,t._stopFade(r[u]),s._node))if(t._webAudio){if(!s._node.bufferSource)continue;typeof s._node.bufferSource.stop>"u"?s._node.bufferSource.noteOff(0):s._node.bufferSource.stop(0),t._cleanBuffer(s._node)}else(!isNaN(s._node.duration)||s._node.duration===1/0)&&s._node.pause();arguments[1]||t._emit("pause",s?s._id:null)}return t},stop:function(e,t){var r=this;if(r._state!=="loaded"||r._playLock)return r._queue.push({event:"stop",action:function(){r.stop(e)}}),r;for(var u=r._getSoundIds(e),s=0;s<u.length;s++){r._clearTimer(u[s]);var l=r._soundById(u[s]);l&&(l._seek=l._start||0,l._rateSeek=0,l._paused=!0,l._ended=!0,r._stopFade(u[s]),l._node&&(r._webAudio?l._node.bufferSource&&(typeof l._node.bufferSource.stop>"u"?l._node.bufferSource.noteOff(0):l._node.bufferSource.stop(0),r._cleanBuffer(l._node)):(!isNaN(l._node.duration)||l._node.duration===1/0)&&(l._node.currentTime=l._start||0,l._node.pause(),l._node.duration===1/0&&r._clearSound(l._node))),t||r._emit("stop",l._id))}return r},mute:function(e,t){var r=this;if(r._state!=="loaded"||r._playLock)return r._queue.push({event:"mute",action:function(){r.mute(e,t)}}),r;if(typeof t>"u")if(typeof e=="boolean")r._muted=e;else return r._muted;for(var u=r._getSoundIds(t),s=0;s<u.length;s++){var l=r._soundById(u[s]);l&&(l._muted=e,l._interval&&r._stopFade(l._id),r._webAudio&&l._node?l._node.gain.setValueAtTime(e?0:l._volume,n.ctx.currentTime):l._node&&(l._node.muted=n._muted?!0:e),r._emit("mute",l._id))}return r},volume:function(){var e=this,t=arguments,r,u;if(t.length===0)return e._volume;if(t.length===1||t.length===2&&typeof t[1]>"u"){var s=e._getSoundIds(),l=s.indexOf(t[0]);l>=0?u=parseInt(t[0],10):r=parseFloat(t[0])}else t.length>=2&&(r=parseFloat(t[0]),u=parseInt(t[1],10));var a;if(typeof r<"u"&&r>=0&&r<=1){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"volume",action:function(){e.volume.apply(e,t)}}),e;typeof u>"u"&&(e._volume=r),u=e._getSoundIds(u);for(var p=0;p<u.length;p++)a=e._soundById(u[p]),a&&(a._volume=r,t[2]||e._stopFade(u[p]),e._webAudio&&a._node&&!a._muted?a._node.gain.setValueAtTime(r,n.ctx.currentTime):a._node&&!a._muted&&(a._node.volume=r*n.volume()),e._emit("volume",a._id))}else return a=u?e._soundById(u):e._sounds[0],a?a._volume:0;return e},fade:function(e,t,r,u){var s=this;if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"fade",action:function(){s.fade(e,t,r,u)}}),s;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),r=parseFloat(r),s.volume(e,u);for(var l=s._getSoundIds(u),a=0;a<l.length;a++){var p=s._soundById(l[a]);if(p){if(u||s._stopFade(l[a]),s._webAudio&&!p._muted){var x=n.ctx.currentTime,y=x+r/1e3;p._volume=e,p._node.gain.setValueAtTime(e,x),p._node.gain.linearRampToValueAtTime(t,y)}s._startFadeInterval(p,e,t,r,l[a],typeof u>"u")}}return s},_startFadeInterval:function(e,t,r,u,s,l){var a=this,p=t,x=r-t,y=Math.abs(x/.01),E=Math.max(4,y>0?u/y:u),D=Date.now();e._fadeTo=r,e._interval=setInterval(function(){var A=(Date.now()-D)/u;D=Date.now(),p+=x*A,p=Math.round(p*100)/100,x<0?p=Math.max(r,p):p=Math.min(r,p),a._webAudio?e._volume=p:a.volume(p,e._id,!0),l&&(a._volume=p),(r<t&&p<=r||r>t&&p>=r)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(r,e._id),a._emit("fade",e._id))},E)},_stopFade:function(e){var t=this,r=t._soundById(e);return r&&r._interval&&(t._webAudio&&r._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(r._interval),r._interval=null,t.volume(r._fadeTo,e),r._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e=this,t=arguments,r,u,s;if(t.length===0)return e._loop;if(t.length===1)if(typeof t[0]=="boolean")r=t[0],e._loop=r;else return s=e._soundById(parseInt(t[0],10)),s?s._loop:!1;else t.length===2&&(r=t[0],u=parseInt(t[1],10));for(var l=e._getSoundIds(u),a=0;a<l.length;a++)s=e._soundById(l[a]),s&&(s._loop=r,e._webAudio&&s._node&&s._node.bufferSource&&(s._node.bufferSource.loop=r,r&&(s._node.bufferSource.loopStart=s._start||0,s._node.bufferSource.loopEnd=s._stop,e.playing(l[a])&&(e.pause(l[a],!0),e.play(l[a],!0)))));return e},rate:function(){var e=this,t=arguments,r,u;if(t.length===0)u=e._sounds[0]._id;else if(t.length===1){var s=e._getSoundIds(),l=s.indexOf(t[0]);l>=0?u=parseInt(t[0],10):r=parseFloat(t[0])}else t.length===2&&(r=parseFloat(t[0]),u=parseInt(t[1],10));var a;if(typeof r=="number"){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"rate",action:function(){e.rate.apply(e,t)}}),e;typeof u>"u"&&(e._rate=r),u=e._getSoundIds(u);for(var p=0;p<u.length;p++)if(a=e._soundById(u[p]),a){e.playing(u[p])&&(a._rateSeek=e.seek(u[p]),a._playStart=e._webAudio?n.ctx.currentTime:a._playStart),a._rate=r,e._webAudio&&a._node&&a._node.bufferSource?a._node.bufferSource.playbackRate.setValueAtTime(r,n.ctx.currentTime):a._node&&(a._node.playbackRate=r);var x=e.seek(u[p]),y=(e._sprite[a._sprite][0]+e._sprite[a._sprite][1])/1e3-x,E=y*1e3/Math.abs(a._rate);(e._endTimers[u[p]]||!a._paused)&&(e._clearTimer(u[p]),e._endTimers[u[p]]=setTimeout(e._ended.bind(e,a),E)),e._emit("rate",a._id)}}else return a=e._soundById(u),a?a._rate:e._rate;return e},seek:function(){var e=this,t=arguments,r,u;if(t.length===0)e._sounds.length&&(u=e._sounds[0]._id);else if(t.length===1){var s=e._getSoundIds(),l=s.indexOf(t[0]);l>=0?u=parseInt(t[0],10):e._sounds.length&&(u=e._sounds[0]._id,r=parseFloat(t[0]))}else t.length===2&&(r=parseFloat(t[0]),u=parseInt(t[1],10));if(typeof u>"u")return 0;if(typeof r=="number"&&(e._state!=="loaded"||e._playLock))return e._queue.push({event:"seek",action:function(){e.seek.apply(e,t)}}),e;var a=e._soundById(u);if(a)if(typeof r=="number"&&r>=0){var p=e.playing(u);p&&e.pause(u,!0),a._seek=r,a._ended=!1,e._clearTimer(u),!e._webAudio&&a._node&&!isNaN(a._node.duration)&&(a._node.currentTime=r);var x=function(){p&&e.play(u,!0),e._emit("seek",u)};if(p&&!e._webAudio){var y=function(){e._playLock?setTimeout(y,0):x()};setTimeout(y,0)}else x()}else if(e._webAudio){var E=e.playing(u)?n.ctx.currentTime-a._playStart:0,D=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(D+E*Math.abs(a._rate))}else return a._node.currentTime;return e},playing:function(e){var t=this;if(typeof e=="number"){var r=t._soundById(e);return r?!r._paused:!1}for(var u=0;u<t._sounds.length;u++)if(!t._sounds[u]._paused)return!0;return!1},duration:function(e){var t=this,r=t._duration,u=t._soundById(e);return u&&(r=t._sprite[u._sprite][1]/1e3),r},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,r=0;r<t.length;r++)t[r]._paused||e.stop(t[r]._id),e._webAudio||(e._clearSound(t[r]._node),t[r]._node.removeEventListener("error",t[r]._errorFn,!1),t[r]._node.removeEventListener(n._canPlayEvent,t[r]._loadFn,!1),t[r]._node.removeEventListener("ended",t[r]._endFn,!1),n._releaseHtml5Audio(t[r]._node)),delete t[r]._node,e._clearTimer(t[r]._id);var u=n._howls.indexOf(e);u>=0&&n._howls.splice(u,1);var s=!0;for(r=0;r<n._howls.length;r++)if(n._howls[r]._src===e._src||e._src.indexOf(n._howls[r]._src)>=0){s=!1;break}return c&&s&&delete c[e._src],n.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,r,u){var s=this,l=s["_on"+e];return typeof t=="function"&&l.push(u?{id:r,fn:t,once:u}:{id:r,fn:t}),s},off:function(e,t,r){var u=this,s=u["_on"+e],l=0;if(typeof t=="number"&&(r=t,t=null),t||r)for(l=0;l<s.length;l++){var a=r===s[l].id;if(t===s[l].fn&&a||!t&&a){s.splice(l,1);break}}else if(e)u["_on"+e]=[];else{var p=Object.keys(u);for(l=0;l<p.length;l++)p[l].indexOf("_on")===0&&Array.isArray(u[p[l]])&&(u[p[l]]=[])}return u},once:function(e,t,r){var u=this;return u.on(e,t,r,1),u},_emit:function(e,t,r){for(var u=this,s=u["_on"+e],l=s.length-1;l>=0;l--)(!s[l].id||s[l].id===t||e==="load")&&(setTimeout(function(a){a.call(this,t,r)}.bind(u,s[l].fn),0),s[l].once&&u.off(e,s[l].fn,s[l].id));return u._loadQueue(e),u},_loadQueue:function(e){var t=this;if(t._queue.length>0){var r=t._queue[0];r.event===e&&(t._queue.shift(),t._loadQueue()),e||r.action()}return t},_ended:function(e){var t=this,r=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var u=!!(e._loop||t._sprite[r][2]);if(t._emit("end",e._id),!t._webAudio&&u&&t.stop(e._id,!0).play(e._id),t._webAudio&&u){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=n.ctx.currentTime;var s=(e._stop-e._start)*1e3/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),s)}return t._webAudio&&!u&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),n._autoSuspend()),!t._webAudio&&!u&&t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if(typeof t._endTimers[e]!="function")clearTimeout(t._endTimers[e]);else{var r=t._soundById(e);r&&r._node&&r._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,r=0;r<t._sounds.length;r++)if(e===t._sounds[r]._id)return t._sounds[r];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new i(e)},_drain:function(){var e=this,t=e._pool,r=0,u=0;if(!(e._sounds.length<t)){for(u=0;u<e._sounds.length;u++)e._sounds[u]._ended&&r++;for(u=e._sounds.length-1;u>=0;u--){if(r<=t)return;e._sounds[u]._ended&&(e._webAudio&&e._sounds[u]._node&&e._sounds[u]._node.disconnect(0),e._sounds.splice(u,1),r--)}}},_getSoundIds:function(e){var t=this;if(typeof e>"u"){for(var r=[],u=0;u<t._sounds.length;u++)r.push(t._sounds[u]._id);return r}else return[e]},_refreshBuffer:function(e){var t=this;return e._node.bufferSource=n.ctx.createBufferSource(),e._node.bufferSource.buffer=c[t._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,n.ctx.currentTime),t},_cleanBuffer:function(e){var t=this,r=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),r))try{e.bufferSource.buffer=n._scratchBuffer}catch{}return e.bufferSource=null,t},_clearSound:function(e){var t=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);t||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(e){this._parent=e,this.init()};i.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++n._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,r=n._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),e._node.gain.setValueAtTime(r,n.ctx.currentTime),e._node.paused=!0,e._node.connect(n.masterGain)):n.noAudio||(e._node=n._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(n._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=t._preload===!0?"auto":t._preload,e._node.volume=r*n.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++n._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(e._node.duration*10)/10,Object.keys(t._sprite).length===0&&(t._sprite={__default:[0,t._duration*1e3]}),t._state!=="loaded"&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(n._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(e._node.duration*10)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=t._duration*1e3),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var c={},v=function(e){var t=e._src;if(c[t]){e._duration=c[t].duration,f(e);return}if(/^data:[^;]+;base64,/.test(t)){for(var r=atob(t.split(",")[1]),u=new Uint8Array(r.length),s=0;s<r.length;++s)u[s]=r.charCodeAt(s);_(u.buffer,e)}else{var l=new XMLHttpRequest;l.open(e._xhr.method,t,!0),l.withCredentials=e._xhr.withCredentials,l.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(a){l.setRequestHeader(a,e._xhr.headers[a])}),l.onload=function(){var a=(l.status+"")[0];if(a!=="0"&&a!=="2"&&a!=="3"){e._emit("loaderror",null,"Failed loading audio file with status: "+l.status+".");return}_(l.response,e)},l.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete c[t],e.load())},S(l)}},S=function(e){try{e.send()}catch{e.onerror()}},_=function(e,t){var r=function(){t._emit("loaderror",null,"Decoding audio data failed.")},u=function(s){s&&t._sounds.length>0?(c[t._src]=s,f(t,s)):r()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(e).then(u).catch(r):n.ctx.decodeAudioData(e,u,r)},f=function(e,t){t&&!e._duration&&(e._duration=t.duration),Object.keys(e._sprite).length===0&&(e._sprite={__default:[0,e._duration*1e3]}),e._state!=="loaded"&&(e._state="loaded",e._emit("load"),e._loadQueue())},T=function(){if(!!n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),t=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),r=t?parseInt(t[1],10):null;if(e&&r&&r<9){var u=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!u&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};w.Howler=n,w.Howl=o,typeof Q<"u"?(Q.HowlerGlobal=h,Q.Howler=n,Q.Howl=o,Q.Sound=i):typeof window<"u"&&(window.HowlerGlobal=h,window.Howler=n,window.Howl=o,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var o=this;if(!o.ctx||!o.ctx.listener)return o;for(var i=o._howls.length-1;i>=0;i--)o._howls[i].stereo(n);return o},HowlerGlobal.prototype.pos=function(n,o,i){var c=this;if(!c.ctx||!c.ctx.listener)return c;if(o=typeof o!="number"?c._pos[1]:o,i=typeof i!="number"?c._pos[2]:i,typeof n=="number")c._pos=[n,o,i],typeof c.ctx.listener.positionX<"u"?(c.ctx.listener.positionX.setTargetAtTime(c._pos[0],Howler.ctx.currentTime,.1),c.ctx.listener.positionY.setTargetAtTime(c._pos[1],Howler.ctx.currentTime,.1),c.ctx.listener.positionZ.setTargetAtTime(c._pos[2],Howler.ctx.currentTime,.1)):c.ctx.listener.setPosition(c._pos[0],c._pos[1],c._pos[2]);else return c._pos;return c},HowlerGlobal.prototype.orientation=function(n,o,i,c,v,S){var _=this;if(!_.ctx||!_.ctx.listener)return _;var f=_._orientation;if(o=typeof o!="number"?f[1]:o,i=typeof i!="number"?f[2]:i,c=typeof c!="number"?f[3]:c,v=typeof v!="number"?f[4]:v,S=typeof S!="number"?f[5]:S,typeof n=="number")_._orientation=[n,o,i,c,v,S],typeof _.ctx.listener.forwardX<"u"?(_.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),_.ctx.listener.forwardY.setTargetAtTime(o,Howler.ctx.currentTime,.1),_.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),_.ctx.listener.upX.setTargetAtTime(c,Howler.ctx.currentTime,.1),_.ctx.listener.upY.setTargetAtTime(v,Howler.ctx.currentTime,.1),_.ctx.listener.upZ.setTargetAtTime(S,Howler.ctx.currentTime,.1)):_.ctx.listener.setOrientation(n,o,i,c,v,S);else return f;return _},Howl.prototype.init=function(n){return function(o){var i=this;return i._orientation=o.orientation||[1,0,0],i._stereo=o.stereo||null,i._pos=o.pos||null,i._pannerAttr={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:360,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:360,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:0,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:"inverse",maxDistance:typeof o.maxDistance<"u"?o.maxDistance:1e4,panningModel:typeof o.panningModel<"u"?o.panningModel:"HRTF",refDistance:typeof o.refDistance<"u"?o.refDistance:1,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:1},i._onstereo=o.onstereo?[{fn:o.onstereo}]:[],i._onpos=o.onpos?[{fn:o.onpos}]:[],i._onorientation=o.onorientation?[{fn:o.onorientation}]:[],n.call(this,o)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,o){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(n,o)}}),i;var c=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof o>"u")if(typeof n=="number")i._stereo=n,i._pos=[n,0,0];else return i._stereo;for(var v=i._getSoundIds(o),S=0;S<v.length;S++){var _=i._soundById(v[S]);if(_)if(typeof n=="number")_._stereo=n,_._pos=[n,0,0],_._node&&(_._pannerAttr.panningModel="equalpower",(!_._panner||!_._panner.pan)&&h(_,c),c==="spatial"?typeof _._panner.positionX<"u"?(_._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),_._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),_._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):_._panner.setPosition(n,0,0):_._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),i._emit("stereo",_._id);else return _._stereo}return i},Howl.prototype.pos=function(n,o,i,c){var v=this;if(!v._webAudio)return v;if(v._state!=="loaded")return v._queue.push({event:"pos",action:function(){v.pos(n,o,i,c)}}),v;if(o=typeof o!="number"?0:o,i=typeof i!="number"?-.5:i,typeof c>"u")if(typeof n=="number")v._pos=[n,o,i];else return v._pos;for(var S=v._getSoundIds(c),_=0;_<S.length;_++){var f=v._soundById(S[_]);if(f)if(typeof n=="number")f._pos=[n,o,i],f._node&&((!f._panner||f._panner.pan)&&h(f,"spatial"),typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(o,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):f._panner.setPosition(n,o,i)),v._emit("pos",f._id);else return f._pos}return v},Howl.prototype.orientation=function(n,o,i,c){var v=this;if(!v._webAudio)return v;if(v._state!=="loaded")return v._queue.push({event:"orientation",action:function(){v.orientation(n,o,i,c)}}),v;if(o=typeof o!="number"?v._orientation[1]:o,i=typeof i!="number"?v._orientation[2]:i,typeof c>"u")if(typeof n=="number")v._orientation=[n,o,i];else return v._orientation;for(var S=v._getSoundIds(c),_=0;_<S.length;_++){var f=v._soundById(S[_]);if(f)if(typeof n=="number")f._orientation=[n,o,i],f._node&&(f._panner||(f._pos||(f._pos=v._pos||[0,0,-.5]),h(f,"spatial")),typeof f._panner.orientationX<"u"?(f._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.orientationY.setValueAtTime(o,Howler.ctx.currentTime),f._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):f._panner.setOrientation(n,o,i)),v._emit("orientation",f._id);else return f._orientation}return v},Howl.prototype.pannerAttr=function(){var n=this,o=arguments,i,c,v;if(!n._webAudio)return n;if(o.length===0)return n._pannerAttr;if(o.length===1)if(typeof o[0]=="object")i=o[0],typeof c>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),n._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:n._panningModel});else return v=n._soundById(parseInt(o[0],10)),v?v._pannerAttr:n._pannerAttr;else o.length===2&&(i=o[0],c=parseInt(o[1],10));for(var S=n._getSoundIds(c),_=0;_<S.length;_++)if(v=n._soundById(S[_]),v){var f=v._pannerAttr;f={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:f.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:f.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:f.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:f.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:f.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:f.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:f.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:f.panningModel};var T=v._panner;T?(T.coneInnerAngle=f.coneInnerAngle,T.coneOuterAngle=f.coneOuterAngle,T.coneOuterGain=f.coneOuterGain,T.distanceModel=f.distanceModel,T.maxDistance=f.maxDistance,T.refDistance=f.refDistance,T.rolloffFactor=f.rolloffFactor,T.panningModel=f.panningModel):(v._pos||(v._pos=n._pos||[0,0,-.5]),h(v,"spatial"))}return n},Sound.prototype.init=function(n){return function(){var o=this,i=o._parent;o._orientation=i._orientation,o._stereo=i._stereo,o._pos=i._pos,o._pannerAttr=i._pannerAttr,n.call(this),o._stereo?i.stereo(o._stereo):o._pos&&i.pos(o._pos[0],o._pos[1],o._pos[2],o._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var o=this,i=o._parent;return o._orientation=i._orientation,o._stereo=i._stereo,o._pos=i._pos,o._pannerAttr=i._pannerAttr,o._stereo?i.stereo(o._stereo):o._pos?i.pos(o._pos[0],o._pos[1],o._pos[2],o._id):o._panner&&(o._panner.disconnect(0),o._panner=void 0,i._refreshBuffer(o)),n.call(this)}}(Sound.prototype.reset);var h=function(n,o){o=o||"spatial",o==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()}(ee)),ee}var le=void 0;typeof window<"u"&&(le=Ae());var Te=le,ne={};Object.defineProperty(ne,"__esModule",{value:!0});ne.noop=function(){};Object.defineProperty(te,"__esModule",{value:!0});var xe=function(){function w(h,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(h,i.key,i)}}return function(h,n,o){return n&&w(h.prototype,n),o&&w(h,o),h}}(),fe=$.exports,Se=ce(fe),ke=ve.exports,H=ce(ke),ue=Te,X=ne;function ce(w){return w&&w.__esModule?w:{default:w}}function Oe(w,h){if(!(w instanceof h))throw new TypeError("Cannot call a class as a function")}function De(w,h){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:w}function Pe(w,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);w.prototype=Object.create(h&&h.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(w,h):w.__proto__=h)}var re=function(w){Pe(h,w);function h(n){Oe(this,h);var o=De(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,n));return o.initHowler=o.initHowler.bind(o),o}return xe(h,[{key:"componentDidMount",value:function(){this.initHowler()}},{key:"componentDidUpdate",value:function(o){JSON.stringify(o.src)!==JSON.stringify(this.props.src)?this.initHowler(this.props):this.toggleHowler(o)}},{key:"componentWillUnmount",value:function(){this.destroyHowler()}},{key:"initHowler",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;this.destroyHowler(),typeof ue.Howl<"u"&&(this.howler=new ue.Howl({src:o.src,xhr:o.xhr,format:o.format,mute:o.mute,loop:o.loop,preload:o.preload,volume:o.volume,rate:o.rate,onend:o.onEnd,onplay:o.onPlay,onplayerror:o.onPlayError,onpause:o.onPause,onvolume:o.onVolume,onstop:o.onStop,onload:o.onLoad,onseek:o.onSeek,onloaderror:o.onLoadError,html5:o.html5}),o.playing&&this.play())}},{key:"destroyHowler",value:function(){this.howler&&(this.howler.off(),this.howler.stop(),this.howler.unload(),this.howler=null)}},{key:"toggleHowler",value:function(o){this.props.playing?this.play():this.pause(),this.loop(this.props.loop),o.mute!==this.props.mute&&this.mute(this.props.mute),o.volume!==this.props.volume&&this.volume(this.props.volume),this.props.preload&&this.howlerState()==="unloaded"&&this.load()}},{key:"play",value:function(){var o=this.howler.playing();o||(this.howlerState()==="unloaded"&&this.load(),this.howler.play())}},{key:"pause",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;o?this.howler.pause(o):this.howler.pause()}},{key:"rate",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;typeof o=="number"&&(i?this.howler.rate(o,i):this.howler.rate(o))}},{key:"howlerState",value:function(){return this.howler.state()}},{key:"stop",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;o?this.howler.stop(o):this.howler.stop()}},{key:"mute",value:function(){var o;(o=this.howler).mute.apply(o,arguments)}},{key:"volume",value:function(){var o;return(o=this.howler).volume.apply(o,arguments)}},{key:"loop",value:function(){var o;return(o=this.howler).loop.apply(o,arguments)}},{key:"seek",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!this.howler)return 0;if(!o&&o!==0)return this.howler.seek();if(o||o===0)return this.howler.seek(o),o}},{key:"duration",value:function(){return this.howler.duration()}},{key:"load",value:function(){this.howler.load()}},{key:"render",value:function(){return Se.default.createElement("div",null)}},{key:"howler",set:function(o){o&&(this._howler=o)},get:function(){return this._howler}}]),h}(fe.Component);re.propTypes={src:H.default.oneOfType([H.default.string,H.default.arrayOf(H.default.string)]).isRequired,format:H.default.arrayOf(H.default.string),xhr:H.default.object,playing:H.default.bool,mute:H.default.bool,loop:H.default.bool,preload:H.default.bool,volume:H.default.number,rate:H.default.number,onEnd:H.default.func,onPause:H.default.func,onPlay:H.default.func,onPlayError:H.default.func,onVolume:H.default.func,onStop:H.default.func,onLoad:H.default.func,onSeek:H.default.func,onLoadError:H.default.func,html5:H.default.bool};re.defaultProps={playing:!0,format:[],xhr:{},mute:!1,preload:!0,loop:!1,volume:1,rate:1,onEnd:X.noop,onPause:X.noop,onPlay:X.noop,onPlayError:X.noop,onVolume:X.noop,onStop:X.noop,onLoad:X.noop,onSeek:X.noop,onLoadError:X.noop,html5:!1};te.default=re;var Ee=te.default;const Ie=Ee;var Me={exports:{}};(function(w){var h=function(n){var o=Object.prototype,i=o.hasOwnProperty,c,v=typeof Symbol=="function"?Symbol:{},S=v.iterator||"@@iterator",_=v.asyncIterator||"@@asyncIterator",f=v.toStringTag||"@@toStringTag";function T(m,d,b){return Object.defineProperty(m,d,{value:b,enumerable:!0,configurable:!0,writable:!0}),m[d]}try{T({},"")}catch{T=function(d,b,P){return d[b]=P}}function e(m,d,b,P){var k=d&&d.prototype instanceof p?d:p,B=Object.create(k.prototype),V=new R(P||[]);return B._invoke=M(m,b,V),B}n.wrap=e;function t(m,d,b){try{return{type:"normal",arg:m.call(d,b)}}catch(P){return{type:"throw",arg:P}}}var r="suspendedStart",u="suspendedYield",s="executing",l="completed",a={};function p(){}function x(){}function y(){}var E={};T(E,S,function(){return this});var D=Object.getPrototypeOf,A=D&&D(D(J([])));A&&A!==o&&i.call(A,S)&&(E=A);var I=y.prototype=p.prototype=Object.create(E);x.prototype=y,T(I,"constructor",y),T(y,"constructor",x),x.displayName=T(y,f,"GeneratorFunction");function O(m){["next","throw","return"].forEach(function(d){T(m,d,function(b){return this._invoke(d,b)})})}n.isGeneratorFunction=function(m){var d=typeof m=="function"&&m.constructor;return d?d===x||(d.displayName||d.name)==="GeneratorFunction":!1},n.mark=function(m){return Object.setPrototypeOf?Object.setPrototypeOf(m,y):(m.__proto__=y,T(m,f,"GeneratorFunction")),m.prototype=Object.create(I),m},n.awrap=function(m){return{__await:m}};function g(m,d){function b(B,V,j,q){var C=t(m[B],m,V);if(C.type==="throw")q(C.arg);else{var z=C.arg,U=z.value;return U&&typeof U=="object"&&i.call(U,"__await")?d.resolve(U.__await).then(function(Y){b("next",Y,j,q)},function(Y){b("throw",Y,j,q)}):d.resolve(U).then(function(Y){z.value=Y,j(z)},function(Y){return b("throw",Y,j,q)})}}var P;function k(B,V){function j(){return new d(function(q,C){b(B,V,q,C)})}return P=P?P.then(j,j):j()}this._invoke=k}O(g.prototype),T(g.prototype,_,function(){return this}),n.AsyncIterator=g,n.async=function(m,d,b,P,k){k===void 0&&(k=Promise);var B=new g(e(m,d,b,P),k);return n.isGeneratorFunction(d)?B:B.next().then(function(V){return V.done?V.value:B.next()})};function M(m,d,b){var P=r;return function(B,V){if(P===s)throw new Error("Generator is already running");if(P===l){if(B==="throw")throw V;return oe()}for(b.method=B,b.arg=V;;){var j=b.delegate;if(j){var q=G(j,b);if(q){if(q===a)continue;return q}}if(b.method==="next")b.sent=b._sent=b.arg;else if(b.method==="throw"){if(P===r)throw P=l,b.arg;b.dispatchException(b.arg)}else b.method==="return"&&b.abrupt("return",b.arg);P=s;var C=t(m,d,b);if(C.type==="normal"){if(P=b.done?l:u,C.arg===a)continue;return{value:C.arg,done:b.done}}else C.type==="throw"&&(P=l,b.method="throw",b.arg=C.arg)}}}function G(m,d){var b=m.iterator[d.method];if(b===c){if(d.delegate=null,d.method==="throw"){if(m.iterator.return&&(d.method="return",d.arg=c,G(m,d),d.method==="throw"))return a;d.method="throw",d.arg=new TypeError("The iterator does not provide a 'throw' method")}return a}var P=t(b,m.iterator,d.arg);if(P.type==="throw")return d.method="throw",d.arg=P.arg,d.delegate=null,a;var k=P.arg;if(!k)return d.method="throw",d.arg=new TypeError("iterator result is not an object"),d.delegate=null,a;if(k.done)d[m.resultName]=k.value,d.next=m.nextLoc,d.method!=="return"&&(d.method="next",d.arg=c);else return k;return d.delegate=null,a}O(I),T(I,f,"Generator"),T(I,S,function(){return this}),T(I,"toString",function(){return"[object Generator]"});function N(m){var d={tryLoc:m[0]};1 in m&&(d.catchLoc=m[1]),2 in m&&(d.finallyLoc=m[2],d.afterLoc=m[3]),this.tryEntries.push(d)}function L(m){var d=m.completion||{};d.type="normal",delete d.arg,m.completion=d}function R(m){this.tryEntries=[{tryLoc:"root"}],m.forEach(N,this),this.reset(!0)}n.keys=function(m){var d=[];for(var b in m)d.push(b);return d.reverse(),function P(){for(;d.length;){var k=d.pop();if(k in m)return P.value=k,P.done=!1,P}return P.done=!0,P}};function J(m){if(m){var d=m[S];if(d)return d.call(m);if(typeof m.next=="function")return m;if(!isNaN(m.length)){var b=-1,P=function k(){for(;++b<m.length;)if(i.call(m,b))return k.value=m[b],k.done=!1,k;return k.value=c,k.done=!0,k};return P.next=P}}return{next:oe}}n.values=J;function oe(){return{value:c,done:!0}}return R.prototype={constructor:R,reset:function(m){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(L),!m)for(var d in this)d.charAt(0)==="t"&&i.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=c)},stop:function(){this.done=!0;var m=this.tryEntries[0],d=m.completion;if(d.type==="throw")throw d.arg;return this.rval},dispatchException:function(m){if(this.done)throw m;var d=this;function b(q,C){return B.type="throw",B.arg=m,d.next=q,C&&(d.method="next",d.arg=c),!!C}for(var P=this.tryEntries.length-1;P>=0;--P){var k=this.tryEntries[P],B=k.completion;if(k.tryLoc==="root")return b("end");if(k.tryLoc<=this.prev){var V=i.call(k,"catchLoc"),j=i.call(k,"finallyLoc");if(V&&j){if(this.prev<k.catchLoc)return b(k.catchLoc,!0);if(this.prev<k.finallyLoc)return b(k.finallyLoc)}else if(V){if(this.prev<k.catchLoc)return b(k.catchLoc,!0)}else if(j){if(this.prev<k.finallyLoc)return b(k.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(m,d){for(var b=this.tryEntries.length-1;b>=0;--b){var P=this.tryEntries[b];if(P.tryLoc<=this.prev&&i.call(P,"finallyLoc")&&this.prev<P.finallyLoc){var k=P;break}}k&&(m==="break"||m==="continue")&&k.tryLoc<=d&&d<=k.finallyLoc&&(k=null);var B=k?k.completion:{};return B.type=m,B.arg=d,k?(this.method="next",this.next=k.finallyLoc,a):this.complete(B)},complete:function(m,d){if(m.type==="throw")throw m.arg;return m.type==="break"||m.type==="continue"?this.next=m.arg:m.type==="return"?(this.rval=this.arg=m.arg,this.method="return",this.next="end"):m.type==="normal"&&d&&(this.next=d),a},finish:function(m){for(var d=this.tryEntries.length-1;d>=0;--d){var b=this.tryEntries[d];if(b.finallyLoc===m)return this.complete(b.completion,b.afterLoc),L(b),a}},catch:function(m){for(var d=this.tryEntries.length-1;d>=0;--d){var b=this.tryEntries[d];if(b.tryLoc===m){var P=b.completion;if(P.type==="throw"){var k=P.arg;L(b)}return k}}throw new Error("illegal catch attempt")},delegateYield:function(m,d,b){return this.delegate={iterator:J(m),resultName:d,nextLoc:b},this.method==="next"&&(this.arg=c),a}},n}(w.exports);try{regeneratorRuntime=h}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=h:Function("r","regeneratorRuntime = r")(h)}})(Me);const Le="/2022/polka/assets/drum_zain.d5e987cb.webp";var de={exports:{}};(function(w){w.exports=function(h){var n={};function o(i){if(n[i])return n[i].exports;var c=n[i]={i,l:!1,exports:{}};return h[i].call(c.exports,c,c.exports,o),c.l=!0,c.exports}return o.m=h,o.c=n,o.i=function(i){return i},o.d=function(i,c,v){o.o(i,c)||Object.defineProperty(i,c,{configurable:!1,enumerable:!0,get:v})},o.n=function(i){var c=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(c,"a",c),c},o.o=function(i,c){return Object.prototype.hasOwnProperty.call(i,c)},o.p="",o(o.s=5)}([function(h,n,o){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function S(_,f){for(var T=0;T<f.length;T++){var e=f[T];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(_,e.key,e)}}return function(_,f,T){return f&&S(_.prototype,f),T&&S(_,T),_}}();function c(S,_){if(!(S instanceof _))throw new TypeError("Cannot call a class as a function")}var v=function(){function S(){var _=this;c(this,S),this.loop=function(f){_.loopId&&_.subscribers.forEach(function(T){T(f)}),_.loopId=requestAnimationFrame(_.loop)},this.subscribers=[],this.loopId=null}return i(S,[{key:"start",value:function(){this.loopId||this.loop()}},{key:"stop",value:function(){this.loopId&&(cancelAnimationFrame(this.loopId),this.loopId=null)}},{key:"subscribe",value:function(f){this.subscribers.indexOf(f)===-1&&this.subscribers.push(f)}},{key:"unsubscribe",value:function(f){this.subscribers=this.subscribers.filter(function(T){return T!==f})}}]),S}();n.default=v},function(h,n){h.exports=$.exports},function(h,n,o){Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(f){for(var T=1;T<arguments.length;T++){var e=arguments[T];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(f[t]=e[t])}return f},c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},v=o(1),S=_(v);function _(f){return f&&f.__esModule?f:{default:f}}n.default=function(f,T){return!f||!T?null:Object.keys(f).filter(function(e){return f[e].renderer}).map(function(e){var t=f[e];if(c(t.renderer)==="object")return S.default.createElement(t.renderer.type,i({key:e,window:T},t));if(typeof t.renderer=="function")return S.default.createElement(t.renderer,i({key:e,window:T},t))})}},function(h,n,o){Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(D){for(var A=1;A<arguments.length;A++){var I=arguments[A];for(var O in I)Object.prototype.hasOwnProperty.call(I,O)&&(D[O]=I[O])}return D},c=function(){function D(A,I){for(var O=0;O<I.length;O++){var g=I[O];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(A,g.key,g)}}return function(A,I,O){return I&&D(A.prototype,I),O&&D(A,O),A}}(),v=o(1),S=t(v),_=o(0),f=t(_),T=o(2),e=t(T);function t(D){return D&&D.__esModule?D:{default:D}}function r(D){return function(){var A=D.apply(this,arguments);return new Promise(function(I,O){function g(M,G){try{var N=A[M](G),L=N.value}catch(R){O(R);return}if(N.done)I(L);else return Promise.resolve(L).then(function(R){g("next",R)},function(R){g("throw",R)})}return g("next")})}}function u(D,A){if(!(D instanceof A))throw new TypeError("Cannot call a class as a function")}function s(D,A){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:D}function l(D,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);D.prototype=Object.create(A&&A.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(D,A):D.__proto__=A)}var a=function(A){return A.initState||A.initialState||A.state||A.initEntities||A.initialEntities||A.entities},p=function(A){return!!(A&&A.then&&A.then.constructor&&A.then.call&&A.then.apply)},x="onClick onContextMenu onDoubleClick onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onWheel onTouchCancel onTouchEnd onTouchMove onTouchStart onKeyDown onKeyPress onKeyUp",y=function(D){l(A,D);function A(I){var O=this;u(this,A);var g=s(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,I));return g.clear=function(){g.input.length=0,g.events.length=0,g.previousTime=null,g.previousDelta=null},g.start=function(){g.clear(),g.timer.start(),g.dispatch({type:"started"}),g.container.current.focus()},g.stop=function(){g.timer.stop(),g.dispatch({type:"stopped"})},g.swap=function(){var M=r(regeneratorRuntime.mark(function G(N){return regeneratorRuntime.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(!p(N)){R.next=4;break}return R.next=3,N;case 3:N=R.sent;case 4:g.setState({entities:N||{}},function(){g.clear(),g.dispatch({type:"swapped"})});case 5:case"end":return R.stop()}},G,O)}));return function(G){return M.apply(this,arguments)}}(),g.defer=function(M){g.dispatch(M)},g.dispatch=function(M){setTimeout(function(){g.events.push(M),g.props.onEvent&&g.props.onEvent(M)},0)},g.updateHandler=function(M){var G={input:g.input,window,events:g.events,dispatch:g.dispatch,defer:g.defer,time:{current:M,previous:g.previousTime,delta:M-(g.previousTime||M),previousDelta:g.previousDelta}},N=g.props.systems.reduce(function(L,R){return R(L,G)},g.state.entities);g.input.length=0,g.events.length=0,g.previousTime=M,g.previousDelta=G.time.delta,g.setState({entities:N})},g.inputHandlers=x.split(" ").map(function(M){return{name:M,handler:function(N){N.persist(),g.input.push({name:M,payload:N})}}}).reduce(function(M,G){return M[G.name]=G.handler,M},{}),g.state={entities:null},g.timer=I.timer||new f.default,g.timer.subscribe(g.updateHandler),g.input=[],g.previousTime=null,g.previousDelta=null,g.events=[],g.container=S.default.createRef(),g}return c(A,[{key:"componentDidMount",value:function(){var I=r(regeneratorRuntime.mark(function g(){var M=this,G;return regeneratorRuntime.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(G=a(this.props),!p(G)){L.next=5;break}return L.next=4,G;case 4:G=L.sent;case 5:this.setState({entities:G||{}},function(){M.props.running&&M.start()});case 6:case"end":return L.stop()}},g,this)}));function O(){return I.apply(this,arguments)}return O}()},{key:"componentWillUnmount",value:function(){this.stop(),this.timer.unsubscribe(this.updateHandler)}},{key:"componentDidUpdate",value:function(O){O.running!==this.props.running&&(this.props.running?this.start():this.stop())}},{key:"render",value:function(){return S.default.createElement("div",i({ref:this.container,style:i({},E.container,this.props.style),className:this.props.className,tabIndex:0},this.inputHandlers),this.props.renderer(this.state.entities,window),this.props.children)}}]),A}(v.Component);n.default=y,y.defaultProps={systems:[],entities:{},renderer:e.default,running:!0};var E={container:{flex:1,outline:"none"}}},function(h,n,o){Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(a){for(var p=1;p<arguments.length;p++){var x=arguments[p];for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(a[y]=x[y])}return a},c=function(){function a(p,x){for(var y=0;y<x.length;y++){var E=x[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,x,y){return x&&a(p.prototype,x),y&&a(p,y),p}}(),v=o(1),S=T(v),_=o(0),f=T(_);function T(a){return a&&a.__esModule?a:{default:a}}function e(a,p){if(!(a instanceof p))throw new TypeError("Cannot call a class as a function")}function t(a,p){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:a}function r(a,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);a.prototype=Object.create(p&&p.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(a,p):a.__proto__=p)}var u="onClick onContextMenu onDoubleClick onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onWheel onTouchCancel onTouchEnd onTouchMove onTouchStart onKeyDown onKeyPress onKeyUp",s=function(a){r(p,a);function p(x){e(this,p);var y=t(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,x));return y.start=function(){y.input.length=0,y.previousTime=null,y.previousDelta=null,y.timer.start(),y.container.current.focus()},y.stop=function(){y.timer.stop()},y.updateHandler=function(E){var D={input:y.input,window,time:{current:E,previous:y.previousTime,delta:E-(y.previousTime||E),previousDelta:y.previousDelta}};y.props.onUpdate&&y.props.onUpdate(D),y.input.length=0,y.previousTime=E,y.previousDelta=D.time.delta},y.inputHandlers=u.split(" ").map(function(E){return{name:E,handler:function(A){A.persist(),y.input.push({name:E,payload:A})}}}).reduce(function(E,D){return E[D.name]=D.handler,E},{}),y.timer=x.timer||new f.default,y.timer.subscribe(y.updateHandler),y.input=[],y.previousTime=null,y.previousDelta=null,y.container=S.default.createRef(),y}return c(p,[{key:"componentDidMount",value:function(){this.props.running&&this.start()}},{key:"componentWillUnmount",value:function(){this.stop(),this.timer.unsubscribe(this.updateHandler)}},{key:"componentDidUpdate",value:function(y){y.running!==this.props.running&&(this.props.running?this.start():this.stop())}},{key:"render",value:function(){return S.default.createElement("div",i({ref:this.container,style:i({},l.container,this.props.style),className:this.props.className,tabIndex:0},this.inputHandlers),this.props.children)}}]),p}(v.Component);n.default=s,s.defaultProps={running:!0};var l={container:{flex:1,outline:"none"}}},function(h,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.Timer=n.DefaultTimer=n.Renderer=n.DefaultRenderer=n.GameEngine=n.GameLoop=void 0;var i=o(4),c=t(i),v=o(3),S=t(v),_=o(2),f=t(_),T=o(0),e=t(T);function t(r){return r&&r.__esModule?r:{default:r}}n.GameLoop=c.default,n.GameEngine=S.default,n.DefaultRenderer=f.default,n.Renderer=f.default,n.DefaultTimer=e.default,n.Timer=e.default}])})(de);const He="/2022/polka/assets/po.77b705e9.png";class K extends $.exports.PureComponent{render(){console.log("rendering box!");const h=this.props.size,n=this.props.x,o=this.props.y,i=Math.random();return F(ye.img,{className:"absolute will-change-transform",src:He,initial:{scale:0,rotate:-15},animate:{scale:1,rotate:0},exit:{scale:0,rotate:-15},transition:{duration:.25,type:"spring"},style:{width:h,height:h,left:n,top:o}},i)}}class Ge extends $.exports.PureComponent{render(){const h=this.props.score||0;return W("div",{className:"gameScore float-left p-3 text-white text-lg",children:["Score: ",h]})}}class Re extends $.exports.PureComponent{render(){const h=this.props.finishAt||0,n=this.props.currentTime||0,o=Math.floor(Math.max((h-n)/1e3,0));return W("div",{className:"gameTimer float-right p-3 text-white text-lg",children:[o,"s"]})}}const pe=2e3,Be=31e3,se=(w,h)=>Math.random()*(h-w)+w,_e=(w,h,n)=>{w.x=se(0,h-w.size),w.y=se(0,n-w.size)},Fe=(w,h,n,o,i,c)=>i>w&&i<n&&c>h&&c<o,Ne=(w,{input:h,time:n})=>{const{payload:o}=h.find(i=>i.name==="onMouseDown")||{};if(o&&o.button===0&&w.engine){console.log("click intercepted");const i=w.engine.box.current.getBoundingClientRect(),c=o.clientX-i.x,v=o.clientY-i.y;for(const[S,_]of Object.entries(w))S.startsWith("po")&&Fe(_.x,_.y,_.x+_.size,_.y+_.size,c,v)&&(console.log(`hit on ${S}`),_e(_,i.width,i.height),_.expiresAt=n.current+pe,w.score.score+=1)}return w},Ve=(w,{time:h})=>{const n=h.current;for(const[o,i]of Object.entries(w)){if(o.startsWith("po")&&i.expiresAt<n&&w.engine){const c=w.engine.box.current.getBoundingClientRect();console.log(`${o} expired`),_e(i,c.width,c.height),i.expiresAt=h.current+pe}o.startsWith("timer")&&(i.currentTime=h.current,i.finishAt<=i.currentTime&&(w.engine.stop(),w={}))}return w},je=(w,{events:h,time:n})=>(h.find(i=>i==="gameTimerStart")&&(console.log("StartTimer system fired"),w.timer={finishAt:n.current+Be},w.engine.renderTimer()),w);class Ce extends $.exports.Component{constructor(n){super(n);Z(this,"resetEntities",()=>{this.entities={score:{score:0,renderer:F(Ge,{})},engine:{box:this.engineBox,stop:this.stop,renderTimer:this.renderTimer}},this.engine.current.swap(this.entities)});Z(this,"stop",()=>{console.log("stopping");const n=this.entities.score.score;this.entities={},this.engine.current.swap(this.entities),this.finishCallback(n)});Z(this,"start",()=>{console.log("starting");const n=this.props.poSize;this.resetEntities(),this.entities.po1={x:100,y:200,size:n,expiresAt:0,renderer:F(K,{})},setTimeout(()=>this.entities.po2={x:150,y:200,size:n,expiresAt:0,renderer:F(K,{})},100),setTimeout(()=>this.entities.po3={x:200,y:200,size:n,expiresAt:0,renderer:F(K,{})},200),setTimeout(()=>this.entities.po4={x:250,y:200,size:n,expiresAt:0,renderer:F(K,{})},300),this.engine.current.dispatch("gameTimerStart")});Z(this,"renderTimer",()=>{this.entities.timer.renderer=F(Re,{})});this.engineBox=ie.createRef(),this.engine=ie.createRef(),this.finishCallback=n.onFinish,this.entities={},this.playing=n.playing}render(){return F("div",{ref:this.engineBox,className:"relative z-10 isolate w-full h-full select-none",children:F(de.exports.GameEngine,{ref:this.engine,className:"w-full h-full relative",systems:[Ne,Ve,je],entities:this.entities})})}}const $e="/2022/polka/assets/intro.182561d2.png",qe="/2022/polka/assets/po.eedc42dc.mp3";function Ue(){const w=$.exports.createRef(),h=$.exports.useRef(null),n=Math.floor(window.innerHeight/10),[o,i]=$.exports.useState(!1);$.exports.useState(0);const[c,v]=$.exports.useState(!0),S=()=>v(!c),{t:_}=ge(),[f,T]=$.exports.useState(!1),[e,t]=$.exports.useState(-1),r=()=>{T(!0),c&&i(!0),w.current.start()},u=l=>{T(!1),i(!1),h.current.stop(),t(l)},s=()=>{console.log("Playing...")};return W(we,{children:[F(be,{}),W("div",{className:`relative flex flex-col items-center justify-center pb-20 ${f?"z-50":""}`,children:[f&&F("div",{className:"fixed -z-10 inset-0 bg-black bg-opacity-50 backdrop-blur-sm"}),W("div",{className:`${f?"fixed inset-0 m-auto":"relative min-h-[24rem] my-8"} w-full sm:w-[60vh] border-2 bg-paper-blue isolate border-white`,children:[!f&&W("div",{className:"absolute z-50 flex flex-col px-6 text-center gap-12 py-12 items-center justify-between inset-0 h-full w-full bg-black bg-opacity-60 text-white",children:[W("div",{children:[F("h1",{className:"text-4xl md:text-5xl lg:text-6xl uppercase leading-[0.9] mb-4 text-gray-100",children:_("game.title")}),F("p",{className:"text-lg leading-loose",children:_("game.desc")}),e>=0&&W("p",{className:"text-2xl mt-4",children:[_("game.score"),e]})]}),W("div",{className:"flex flex-col items-center gap-4",children:[F("button",{onClick:r,className:"text-2xl bg-white text-gray-700 px-4 py-2 rounded-xl",children:_("game.start")}),W("p",{className:"bg-white px-6 py-2 rounded-full flex justify-center items-center gap-2 text-lg text-gray-700 bg-opacity-70",children:["BGM:"," ",F("input",{className:"accent-blue-500 h-4 w-4",onClick:S,checked:c,type:"checkbox"})]})]})]}),F(Ce,{ref:w,onFinish:u,poSize:n,playing:f}),f?F("img",{className:"absolute bottom-0 right-0 w-full px-4 opacity-50 pointer-events-none",src:Le,alt:""}):F("div",{className:"absolute inset-0",children:F("img",{className:"h-full w-full object-cover object-top",src:$e,alt:""})}),F(Ie,{src:qe,preload:!0,playing:o,loop:!1,ref:h,volume:.3,onPlay:s})]})]})]})}export{Ue as default};
